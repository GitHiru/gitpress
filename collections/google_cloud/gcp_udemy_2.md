---
date    : 2022-05-15
title   : Sect.2
excerpt :
tags    : ["GoogleCloudPlatform"]
---

## || GCPの基本を習得
### | GCPの基本用語
* ユーザー（Googleアカウント）
GCPを利用する人。Googleサービス共通アカウントである、Googleアカウントを保有する個人。

* プロジェクト
GCPの各種リソース、紐づく単位。

'''
e.g. プロジェクトA…ECサイト運営
     プロジェクトB…オウンドメディア運営
'''

* 請求先アカウント
1つのプロジェクトに対して1つ割り当てられる課金管理用のアカウント。

* 関係（プロジェクトと請求先アカウントの）

'''
                [n:n]          [n:1]                [1:1]
Googleアカウント1 →プロジェクトA→ 請求先アカウントa → 💳クレカ（or🏦口座振替）
                  ↘︎プロジェクトB↗︎
                  ↘︎プロジェクトC→ 請求先アカウントb → 💳クレカ（or🏦口座振替）
Googleアカウント2 →プロジェクトD↗︎
'''

Googleアカウントは複数のプロジェクトに振り分けることできる。
各プロジェクトには一つの請求先アカウントが紐づく。そして、請求先アカウントは支払い方法が1つ選択できる。



### | リージョン / ゾーン
![ss_1](https://user-images.githubusercontent.com/28585421/168473172-2f91f1e2-e64c-4e17-9534-36f0864b49bd.png)
 
リージョン：物理サーバが配置されている地理エリア
ゾーン：リージョン内で分離された場所（仮想のデータセンターのイメージ）

* リージョンの選び方
基本的には、提供サービスの利用者に近いリージョンを選定。
∵レイテンシが低いから
∵コストが抑えられる（物価によって異なる為。i.e: S.Carolinaが安価）

* ゾーンの選び方
基本的にリージョン内のどのゾーンでも◎（大差なし！厳密に言うとCPUアーキテクチャが違う。）

* ネットワークレイテンシ
利用者がリクエストを出してから、レスポンスが帰ってくるまでの、通信に掛かる時間。

|||
|:-|:-|
|リージョン通信|無視できない（光速がリミット）|
|ゾーン通信|ほぼ無視できる（95%程度 往復1ミリ秒未満）|

cf. https://gcping.com/ 計測できるよ。（GCPオフィシャルではないけど使える。）

* 耐障害性
![ss_2](https://user-images.githubusercontent.com/28585421/168473212-a9e741c6-2cda-4028-b5dc-72b589130a0f.png)
予期しない障害を最小限にするため、リージョン内の複数ゾーン内にデプロイする。

* マルチリージョン
![ss_3](https://user-images.githubusercontent.com/28585421/168473224-bc7a0bba-0a28-447a-a8e1-6d561c965f73.png)
予期しない自然災害等で東京が壊滅的な打撃を受けた場合。大阪のリージョンにも同様にデプロイしていれば、対策できる。

※「耐障害性」にはコストがベラボーに掛かる。どこまで耐えうる構成かをしっかり考えること。

* 通信量

|||
|:-|:-|
|リージョン通信|有料|
|ゾーン通信|無料|



### | 耐久性・可用性
+ 耐久性：データを失わない期待値
 - e.g. 耐久性100％= 保存したデータが失われる可能性はない。
 - e.g. 耐久性90％ = 保存したデータが1年後に無傷でアクセス可能になる確率は90%。

+ 可用性：サービスが稼働し続ける期待値
 - e.g. 可用性99.9% = 365日中、364.6日は可動し続ける期待が持てる。

> POINT
>
> * GCPの「耐久性」「可用性」は基本的には100%未満。
> * アーキテクトが、コストとの兼ね合いを考えながら、耐久性や可用性の効用最大化を構成設計する。
